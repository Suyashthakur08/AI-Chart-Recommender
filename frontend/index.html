<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insight Engine | AI Chart Recommender</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="main-header">
        <div class="header-content">
            <h1>Insight Engine</h1>
            <p class="subtitle">Transform raw data into meaningful visualizations, instantly.</p>
        </div>
    </header>

    <main>
        <!-- UPLOAD SECTION -->
        <div id="upload-container" class="upload-container">
            <div id="drop-zone" class="drop-zone">
                <!-- Initial State Prompt -->
                <div id="prompt-state" class="drop-zone-state">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21.2 15c.7-1.2 1-2.5.7-3.9-.6-2.4-3-4-5.4-4.6-1.5-.4-2.9-.3-4.3.4-.5.2-.9.5-1.3.8-.5.3-1 .5-1.5.7-.7.2-1.5.2-2.2.1C4.6 8.9 3 7.5 2.2 6.1c-.8-1.5-.5-3.3.6-4.5.3-.3.6-.5.9-.7.2-.1.5-.2.7-.2.2 0 .5.1.7.2.3.2.6.4.8.7 1.2 1.2 1.5 3 .8 4.5-.8 1.4-2.4 2.8-4.3 2.9-.6.1-1.2.1-1.8-.1.5.2.9.4 1.3.6.4.3.8.6 1.1.9.9.8 2 1.3 3.1 1.4.7.1 1.3.1 1.9 0 .6-.1 1.2-.3 1.8-.6.6-.3 1.2-.7 1.7-1.1.4-.4.8-.8 1.1-1.3.2-.3.4-.7.6-1 .2-.4.3-.8.4-1.2.1-.4.1-.8.1-1.2 0-.2 0-.4-.1-.6 0 0 0 .1-.1.1-1.5.2-2.9.8-4.2 1.8-.5.4-.9.8-1.3 1.3-.7.8-1.2 1.8-1.5 2.8-.2.9-.2 1.9 0 2.8.2.9.6 1.7 1.2 2.4.2.2.4.4.6.6.2.2.4.3.6.4.2.1.5.1.7.1.2 0 .5 0 .7-.1.2-.1.5-.2.7-.4.6-.6 1-1.3 1.2-2.1.2-.8.2-1.7 0-2.5-.1-.4-.2-.8-.4-1.1l-.2-.5c-.2-.4-.4-.8-.7-1.1l-.1-.2-.1-.1c0 0 .1 0 .1.1.3.3.6.7.8 1 .2.3.4.7.6 1 .2.4.3.8.4 1.2.1.4.1.8.1 1.2z"></path></svg>
                    <p class="prompt-text"><strong>Drag & drop your CSV or XLSX file here</strong> or click to browse</p>
                </div>
                <!-- File Selected State -->
                <div id="file-preview-state" class="drop-zone-state hidden">
                    <div class="file-pill">
                        <svg class="icon-sm" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                        <span id="file-name"></span>
                        <button id="remove-file-button" class="remove-button">Ã—</button>
                    </div>
                </div>
            </div>
            <input type="file" id="file-input" accept=".csv,.xlsx" hidden>
            <button id="analyze-button" class="button-primary" disabled>Generate Insights</button>
        </div>

        <!-- SKELETON LOADER SECTION -->
        <div id="skeleton-loader" class="results-grid hidden">
            <div class="skeleton-card"><div class="shimmer-wrapper"><div class="shimmer"></div></div></div>
            <div class="skeleton-card"><div class="shimmer-wrapper"><div class="shimmer"></div></div></div>
            <div class="skeleton-card"><div class="shimmer-wrapper"><div class="shimmer"></div></div></div>
            <div class="skeleton-card"><div class="shimmer-wrapper"><div class="shimmer"></div></div></div>
        </div>
        
        <!-- RESULTS SECTION -->
        <div id="results-header" class="results-header hidden">
            <h2>Recommended Visualizations</h2>
            <button id="start-over-button" class="button-secondary">Analyze Another File</button>
        </div>
        <div id="error-message" class="error-box hidden"></div>
        <div id="results-container" class="results-grid">
            <!-- Charts will be dynamically injected here -->
        </div>
    </main>

    <footer class="main-footer">
        <p>Powered by Google Gemini & FastAPI</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>